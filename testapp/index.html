<html>
  <head>
    <link rel='stylesheet'
          href='../bootstrap/css/bootstrap.min.css'/>
    <link rel='stylesheet'
          href='../bootstrap/css/bootstrap-theme.min.css'/>
    <link rel='stylesheet' href='testapp.css'/>
    <link rel='stylesheet' href='../app/default.css'/>
    <script src='../bootstrap/js/jquery-2.1.1.min.js'></script>
    <script src='../bootstrap/js/bootstrap.min.js'></script>
    <script src='../app/weblurch.js'></script>
    <script src='all-test-histories.js'></script>
    <script src='testapp.js'></script>
  </head>
  <body>
    <div class='container' id='mainContainer'>
      <div class='page-header'>
        <div class='pull-right'>
          <a href='../doc/test-app-help.md.html'>Help</a>
        </div>
        <h1>webLurch Test App</h1>
      </div>
      <!-- Input box and button for executing JS code -->
      <div class='row'>
        <div class='col-md-10'>
          <input type='text' class='form-control' id='codeInput'
                 placeholder='enter code to evaluate'/>
        </div>
        <div class='col-md-2'>
          <button type='button' class='btn btn-default'
                  data-toggle='tooltip' title='Run' id='runButton'>
            <span class='glyphicon glyphicon-play'></span>
          </button>
          <button type='button' class='btn btn-default'
                  data-toggle='tooltip' title='Undo'
                  id='undoButton'>
            <span class='glyphicon glyphicon-arrow-left'></span>
          </button>
          <button type='button' class='btn btn-default'
                  data-toggle='tooltip' title='Reset'
                  id='resetButton'>
            <span class='glyphicon glyphicon-refresh'></span>
          </button>
        </div>
      </div>
      <!-- Bootstrap styles the following list as tabs -->
      <div class='gap-before-2'>
        <ul class='nav nav-tabs' role='tablist'>
          <li class='active'><a href='#html' role='tab'
              data-toggle='tab'>HTML</a></li>
          <li><a href='#sourceView' role='tab' id='sourceTab'
                 data-toggle='tab'>Source</a></li>
          <li><a href='#historyView' role='tab' id='historyTab'
                 data-toggle='tab'>History</a></li>
        </ul>
      </div>
      <!-- Bootstrap shows the following divs when their
           corresponding tabs (above) are clicked -->
      <div class='tab-content'>
        <div class='tab-pane active panel panel-default' id='html'>
          <div id='editor'></div>
        </div>
        <div class='tab-pane' id='sourceView'></div>
        <div class='tab-pane' id='historyView'>
          <div class='row gap-before-2'>
            <div class='col-md-4'>
              <div class='input-group'>
                <span class='input-group-addon'
                 >Enter filename:</span>
                <input type='text' id='testNameInput'
                       class='form-control'
                       placeholder='test-history'/>
                <span class='input-group-addon'>.json</span>
              </div>
            </div>
            <div class='col-md-2'>
              <button type='button' class='btn btn-default'
                      id='downloadButton'>
                Download history as JSON
              </button>
            </div>
            <div class='col-md-2'></div>
            <div class='col-md-3'>
              <select class='form-control' id='savedHistoriesList'>
              </select>
            </div>
            <div class='col-md-1'>
              <button type='button' class='btn btn-default'
                      data-toggle='tooltip'
                      title='Run full history'
                      id='runFullHistoryButton'>
                <span class='glyphicon glyphicon-play'></span>
              </button>
            </div>
          </div>
          <div id='historyBody' style='overflow: scroll;'>
          </div>
        </div>
      </div>
      <!-- Modal dialog for editing test history comments -->
      <div class='modal fade' id='commentEditDialog' tabindex='-1'
           role='dialog' aria-labelledby='myModalLabel'
           aria-hidden='true'>
        <div class='modal-dialog'>
          <div class='modal-content'>
            <div class='modal-header'>
              <button type='button' class='close'
                      data-dismiss='modal'>
                <span aria-hidden='true'>&times;</span>
                <span class='sr-only'>Close</span>
              </button>
              <h4 class='modal-title'>Edit state comments</h4>
            </div>
            <div class='modal-body'>
              <textarea id='commentEditInput' class='form-control'>
              </textarea>
            </div>
            <div class='modal-footer'>
              <button type='button' id='saveStateCommentsButton'
                      class='btn btn-primary'>Save</button>
              <button type='button' class='btn btn-default'
                      data-dismiss='modal'>Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script language='javascript'>testAppSetup();</script>
</html>
