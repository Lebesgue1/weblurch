<html>
    <head>
        <link rel="stylesheet"
              href="../bootstrap/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="./main.css"/>
        <link rel="stylesheet" href="./obsidian.css"/>
        <link rel="shortcut icon" href="favicon.png"/>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config( {
              tex2jax: { inlineMath: [ [ '$', '$' ], [ '\\(', '\\)' ] ] }
            } );
        </script>
        <script type="text/javascript"
                src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <title>webLurch docs: basic-spec</title>
    </head>
    <body>
        <div id="left">
            <p align=center>Page contents</p>
<p><a href='#basic-tests-of-compiled-app-code'>Basic tests of compiled app code</a></p><ul>
<li><a href='#app-index-html-page'>app/index.html page</a></li><ul>
<li><a href='#should-load'>should load</a></li><li><a href='#should-find-all-its-resources'>should find all its resources</a></li><li><a href='#should-load-without-errors'>should load without errors</a></li><li><a href='#should-have-global-variables-defined'>should have global variables defined</a></li><li><a href='#should-initialize-main-div-to-id-0'>should initialize main div to id 0</a></li></ul>
<li><a href='#testapp-index-html-page'>testapp/index.html page</a></li><ul>
<li><a href='#should-load'>should load</a></li><li><a href='#should-find-all-its-resources'>should find all its resources</a></li><li><a href='#should-load-without-errors'>should load without errors</a></li><li><a href='#should-have-global-variables-defined'>should have global variables defined</a></li><li><a href='#should-initialize-main-div-to-id-0'>should initialize main div to id 0</a></li>
        </div>
        <div id="middle">
            <h1><a name='basic-tests-of-compiled-app-code'></a>Basic tests of compiled app code &nbsp;  <font size=-1><a href='#basic-tests-of-compiled-app-code'><span class="glyphicon glyphicon-link"></span></a></font></h1><p><em>This file does not have any comments in it right now, but it
should.  Other test files say that readers should refer to this one
if they need to understand the basic structure of a test spec file,
but this one has no helpful comments.  That is a TO-DO that is
still pending; see the end of <a href="plan.md.html">the project plan</a>.</em></p>
<p>Pull in the utility functions in <code>phantom-utils</code> that make it
easier to write the tests below.</p>
<pre class="hljs"><code>{ phantomDescribe,
  pageExpects, inPage } = <span class="hljs-built_in">require</span> <span class="hljs-string">'./phantom-utils'</span>
</code></pre><h2><a name='app-index-html-page'></a>app/index.html page &nbsp; <font size=-1><a href='test-results.md.html#app-index-html-page'>see results</a></font> <font size=-1><a href='#app-index-html-page'><span class="glyphicon glyphicon-link"></span></a></font></h2><pre class="hljs"><code>phantomDescribe <span class="hljs-string">'app/index.html page'</span>, <span class="hljs-string">'./app/index.html'</span>,<span class="hljs-function"> -&gt;</span>
</code></pre><h3><a name='should-load'></a>should load &nbsp; <font size=-1><a href='test-results.md.html#should-load'>see results</a></font> <font size=-1><a href='#should-load'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should load'</span>, <span class="hljs-function"><span class="hljs-params">( done )</span> =&gt;</span>
        expect( <span class="hljs-property">@page</span>.loaded ).toBeTruthy()
        done()
</code></pre><h3><a name='should-find-all-its-resources'></a>should find all its resources &nbsp; <font size=-1><a href='test-results.md.html#should-find-all-its-resources'>see results</a></font> <font size=-1><a href='#should-find-all-its-resources'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should find all its resources'</span>, <span class="hljs-function"><span class="hljs-params">( done )</span> =&gt;</span>
        expect( <span class="hljs-property">@page</span>.reserr ).toBeFalsy()
        done()
</code></pre><h3><a name='should-load-without-errors'></a>should load without errors &nbsp; <font size=-1><a href='test-results.md.html#should-load-without-errors'>see results</a></font> <font size=-1><a href='#should-load-without-errors'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should load without errors'</span>, <span class="hljs-function"><span class="hljs-params">( done )</span> =&gt;</span>
        expect( <span class="hljs-property">@page</span>.err ).toBeFalsy()
        done()
</code></pre><h3><a name='should-have-global-variables-defined'></a>should have global variables defined &nbsp; <font size=-1><a href='test-results.md.html#should-have-global-variables-defined'>see results</a></font> <font size=-1><a href='#should-have-global-variables-defined'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should have global variables defined'</span>, inPage<span class="hljs-function"> -&gt;</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> <span class="hljs-attribute">Node</span>::address ), <span class="hljs-string">'toBeTruthy'</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> LurchEditor ), <span class="hljs-string">'toBeTruthy'</span>
</code></pre><h3><a name='should-initialize-main-div-to-id-0'></a>should initialize main div to id 0 &nbsp; <font size=-1><a href='test-results.md.html#should-initialize-main-div-to-id-0'>see results</a></font> <font size=-1><a href='#should-initialize-main-div-to-id-0'><span class="glyphicon glyphicon-link"></span></a></font></h3><p>Note that this assumes that the main div has been assigned to the
global variable <code>LE</code>, which is a rather arbitrary choice in the
<a href="../app/index.html">app</a> and <a href="../testapp/index.html">testapp</a> code.</p>
<pre class="hljs"><code>    it <span class="hljs-string">'should initialize main div to id 0'</span>, inPage<span class="hljs-function"> -&gt;</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> LE.getElement().id ), <span class="hljs-string">'toEqual'</span>, <span class="hljs-string">'0'</span>
</code></pre><p>Later we will also add tests that use <code>page.get &#39;content&#39;</code>,
<code>page.render &#39;outfile.png&#39;</code>, etc.</p>
<h2><a name='testapp-index-html-page'></a>testapp/index.html page &nbsp; <font size=-1><a href='test-results.md.html#testapp-index-html-page'>see results</a></font> <font size=-1><a href='#testapp-index-html-page'><span class="glyphicon glyphicon-link"></span></a></font></h2><pre class="hljs"><code>phantomDescribe <span class="hljs-string">'testapp/index.html page'</span>, \
<span class="hljs-string">'./testapp/index.html'</span>,<span class="hljs-function"> -&gt;</span>
</code></pre><h3><a name='should-load'></a>should load &nbsp; <font size=-1><a href='test-results.md.html#should-load'>see results</a></font> <font size=-1><a href='#should-load'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should load'</span>, <span class="hljs-function"><span class="hljs-params">( done )</span> =&gt;</span>
        expect( <span class="hljs-property">@page</span>.loaded ).toBeTruthy()
        done()
</code></pre><h3><a name='should-find-all-its-resources'></a>should find all its resources &nbsp; <font size=-1><a href='test-results.md.html#should-find-all-its-resources'>see results</a></font> <font size=-1><a href='#should-find-all-its-resources'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should find all its resources'</span>, <span class="hljs-function"><span class="hljs-params">( done )</span> =&gt;</span>
        expect( <span class="hljs-property">@page</span>.reserr ).toBeFalsy()
        done()
</code></pre><h3><a name='should-load-without-errors'></a>should load without errors &nbsp; <font size=-1><a href='test-results.md.html#should-load-without-errors'>see results</a></font> <font size=-1><a href='#should-load-without-errors'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should load without errors'</span>, <span class="hljs-function"><span class="hljs-params">( done )</span> =&gt;</span>
        expect( <span class="hljs-property">@page</span>.err ).toBeFalsy()
        done()
</code></pre><h3><a name='should-have-global-variables-defined'></a>should have global variables defined &nbsp; <font size=-1><a href='test-results.md.html#should-have-global-variables-defined'>see results</a></font> <font size=-1><a href='#should-have-global-variables-defined'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should have global variables defined'</span>, inPage<span class="hljs-function"> -&gt;</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> <span class="hljs-attribute">Node</span>::address ), <span class="hljs-string">'toBeTruthy'</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> LurchEditor ), <span class="hljs-string">'toBeTruthy'</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> maindiv ), <span class="hljs-string">'toBeTruthy'</span>
</code></pre><h3><a name='should-initialize-main-div-to-id-0'></a>should initialize main div to id 0 &nbsp; <font size=-1><a href='test-results.md.html#should-initialize-main-div-to-id-0'>see results</a></font> <font size=-1><a href='#should-initialize-main-div-to-id-0'><span class="glyphicon glyphicon-link"></span></a></font></h3><pre class="hljs"><code>    it <span class="hljs-string">'should initialize main div to id 0'</span>, inPage<span class="hljs-function"> -&gt;</span>
        pageExpects (<span class="hljs-function"> -&gt;</span> LE.getElement().id ), <span class="hljs-string">'toEqual'</span>, <span class="hljs-string">'0'</span>
</code></pre><p>Later we will also add tests that use <code>page.get &#39;content&#39;</code>,
<code>page.render &#39;outfile.png&#39;</code>, etc.</p>

        </div>
        <div id="right">
            <h3 align=center>Navigation</h3><br><h3><a href='index.md.html'>webLurch home</a></h3><p>.</p><ul><li><a href='buildutils.litcoffee.html'>buildutils.litcoffee</a></li><li><a href='cake.litcoffee.html'>cake.litcoffee</a></li></ul><p>./app</p><ul><li><a href='../app/index.html'>index.html</a></li></ul><p>./doc</p><ul><li><a href='plan.md.html'>plan.md</a></li><li><a href='progress.md.html'>progress.md</a></li><li><a href='test-results.md.html'>test-results.md</a></li></ul><p>./src</p><ul><li><a href='domeditaction.litcoffee.html'>domeditaction.litcoffee</a></li><li><a href='domedittracker.litcoffee.html'>domedittracker.litcoffee</a></li><li><a href='domutils.litcoffee.html'>domutils.litcoffee</a></li><li><a href='lurcheditor.litcoffee.html'>lurcheditor.litcoffee</a></li></ul><p>./test</p><ul><li><a href='all-histories-spec.litcoffee.html'>all-histories-spec.litcoffee</a></li><li><a href='basic-spec.litcoffee.html'>basic-spec.litcoffee</a></li><li><a href='domeditaction-spec.litcoffee.html'>domeditaction-spec.litcoffee</a></li><li><a href='domedittracker-spec.litcoffee.html'>domedittracker-spec.litcoffee</a></li><li><a href='domutils-spec.litcoffee.html'>domutils-spec.litcoffee</a></li><li><a href='lurcheditor-spec.litcoffee.html'>lurcheditor-spec.litcoffee</a></li><li><a href='phantom-utils.litcoffee.html'>phantom-utils.litcoffee</a></li><li><a href='undoredo-spec.litcoffee.html'>undoredo-spec.litcoffee</a></li></ul><p>./testapp</p><ul><li><a href='utils.litcoffee.html'>utils.litcoffee</a></li><li><a href='../testapp/index.html'>index.html</a></li></ul>
        </div>
    </body>
</html>
