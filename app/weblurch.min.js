(function(){var t={}.hasOwnProperty,e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Node.prototype.address=function(t){var e;return null==t&&(t=null),this===t?[]:this.parentNode?(e=this.parentNode.address(t),null===e?null:e.concat([this.indexInParent()])):t?null:[]},Node.prototype.indexInParent=function(){return this.parentNode?Array.prototype.slice.apply(this.parentNode.childNodes).indexOf(this):-1},Node.prototype.index=function(t){var e;if(!(t instanceof Array))throw Error("Node address function requires an array");return 0===t.length?this:"number"!=typeof t[0]?void 0:null!=(e=this.childNodes[t[0]])?e.index(t.slice(1)):void 0},Node.prototype.toJSON=function(t){var e,n,r,i,o,s;if(null==t&&(t=!0),this instanceof Text)return this.textContent;if(this instanceof Comment)return t?{comment:!0,content:this.textContent}:{m:!0,n:this.textContent};if(!(this instanceof Element))throw Error("Cannot serialize this node: "+this);if(r={tagName:this.tagName},this.attributes.length)for(r.attributes={},s=this.attributes,i=0,o=s.length;o>i;i++)e=s[i],r.attributes[e.name]=e.value;return this.childNodes.length&&(r.children=function(){var e,r,i,o;for(i=this.childNodes,o=[],e=0,r=i.length;r>e;e++)n=i[e],o.push(n.toJSON(t));return o}.call(this)),t||(r.t=r.tagName,delete r.tagName,r.a=r.attributes,delete r.attributes,r.c=r.children,delete r.children),r},Node.fromJSON=function(e){var n,r,i,o,s,l,a,u;if("string"==typeof e)return document.createTextNode(e);if("comment"in e&&e.comment)return document.createComment(e.content);if("m"in e&&e.m)return document.createComment(e.n);if(!1 in e&&!1 in e)throw Error("Object has no t[agName]: "+this);if(s=document.createElement(e.tagName||e.t),n=e.attributes||e.a)for(o in n)t.call(n,o)&&(l=n[o],s.setAttribute(o,l));if(i=e.children||e.c)for(a=0,u=i.length;u>a;a++)r=i[a],s.appendChild(Node.fromJSON(r));return s},Node.prototype.nextLeaf=function(t){var e;for(null==t&&(t=null),e=this;e&&e!==t&&!e.nextSibling;)e=e.parentNode;if(e=null!=e?e.nextSibling:void 0,!e)return null;for(;e.childNodes.length>0;)e=e.childNodes[0];return e},Node.prototype.previousLeaf=function(t){var e;for(null==t&&(t=null),e=this;e&&e!==t&&!e.previousSibling;)e=e.parentNode;if(e=null!=e?e.previousSibling:void 0,!e)return null;for(;e.childNodes.length>0;)e=e.childNodes[e.childNodes.length-1];return e},Node.prototype.remove=function(){var t;return null!=(t=this.parentNode)?t.removeChild(this):void 0},Element.prototype.hasClass=function(t){var n,r;return n=null!=(r=this.getAttribute("class"))?r.split(/\s+/):void 0,n&&e.call(n,t)>=0},Element.prototype.addClass=function(t){var n,r;return n=(null!=(r=this.getAttribute("class"))?r.split(/\s+/):void 0)||[],e.call(n,t)<0&&n.push(t),this.setAttribute("class",n.join(" "))},Element.prototype.removeClass=function(t){var e,n,r;return n=(null!=(r=this.getAttribute("class"))?r.split(/\s+/):void 0)||[],n=function(){var r,i,o;for(o=[],r=0,i=n.length;i>r;r++)e=n[r],e!==t&&o.push(e);return o}(),n.length>0?this.setAttribute("class",n.join(" ")):this.removeAttribute("class")},JSON.equals=function(t,e){var n,r,i,o,s;if(t instanceof Object!=e instanceof Object)return!1;if(t instanceof Array!=e instanceof Array)return!1;if(!(t instanceof Object))return t===e;if(r=Object.keys(t).sort(),i=Object.keys(e).sort(),JSON.stringify(r)!==JSON.stringify(i))return!1;for(o=0,s=r.length;s>o;o++)if(n=r[o],!JSON.equals(t[n],e[n]))return!1;return!0}}).call(this);
//# sourceMappingURL=weblurch.min.js.map